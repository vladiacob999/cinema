<!doctype html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml" xmlns:sec="http://www.w3.org/1999/xhtml">
<head>
    <title>Cinema Movies</title>
    <meta charset="utf-8">
    <link rel="stylesheet"
          href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
          integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
          crossorigin="anonymous">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css"
          rel="stylesheet"
          integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx"
          crossorigin="anonymous">

</head>

<link th:href="@{/css/topnav.css}" rel="stylesheet"/>


<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<!--<style>-->
<!--    Body {-->
<!--    height: 100%;-->
<!--    margin: 0;-->
<!--    background-image: url("https://images.pexels.com/photos/2847648/pexels-photo-2847648.jpeg?cs=srgb&dl=pexels-alexander-kovalev-2847648.jpg&fm=jpg");-->

<!--    background-repeat: repeat;-->
<!--    background-size: 100% auto;-->
<!--    background-position: center top;-->
<!--    background-attachment: fixed;-->
<!--    }-->
<!--    </style>-->

<body>

<div th:replace="fragments/navs.html :: topnav"></div>

<div class="container my-2">
    <h1> Movie List</h1>
    <div sec:authorize="hasRole('ROLE_ADMIN')">
        <a th:href="@{/addNewMovie}" class="btn btn-primary btn-sm mb-3"> Add Movie </a>
    </div>

    <div sec:authorize="hasRole('ROLE_ADMIN')">
        <a th:href="@{/addNewCategory}" class="btn btn-primary btn-sm mb-3"> Add Category </a>
    </div>


    <!--    <div class="my-4 card-columns">-->

    <div class="d-flex flex-wrap">
        <div class="card" style="float: left; width: 20%" th:each="movie : ${listMovies}">
            <div class="col mb-2">
                <a th:href="@{/movie/{id}(id=${movie.id})}">
                    <img class="card-img-top"
                         th:src="${movie.photosImagePath}"/>
                </a>
                <div class="card-body">
                    <h5 class="card-title" th:text="${movie.movieTitle}"></h5>
                    <p class="card-text" th:text="${movie.movieGenre}"></p>
                    <div sec:authorize="hasRole('ROLE_ADMIN')">

                        <p class="card-text"><a th:href="@{/deleteMovie/{id}(id=${movie.id})}"
                                                class="btn btn-danger">Delete</a></p>
                    </div>
                </div>
            </div>
        </div>
    </div>


<!--    <div class="container my-2">-->

<!--        <table class="table">-->
<!--            <thead>-->
<!--            <tr>-->
<!--                <th> Picture</th>-->
<!--                <th> Movie Title</th>-->
<!--                <th> Genre</th>-->
<!--                <th> Length</th>-->
<!--                <th> More</th>-->
<!--                <th></th>-->
<!--            </tr>-->
<!--            </thead>-->
<!--            <tbody>-->
<!--            <tr th:each="movie : ${listMovies}">-->
<!--                <td><img th:src="${movie.photosImagePath}" class="img-round" width="100" height="100"/>-->
<!--                <td width="300px%" th:text="${movie.movieTitle}"></td>-->
<!--                <td width="300px%" th:text="${movie.movieGenre}"></td>-->
<!--                <td width="300px%" th:text="${movie.length}"></td>-->
<!--                <td width="300px%"><a class="btn btn-primary" th:href="@{/movie/{id}(id=${movie.id})}">View</a></td>-->

<!--                <div sec:authorize="hasRole('ROLE_ADMIN')">-->
<!--                    <td width="10px%"><a th:href="@{/deleteMovie/{id}(id=${movie.id})}"-->
<!--                                         class="btn btn-danger">Delete</a></td>-->
<!--                </div>-->
<!--            </tr>-->
<!--            </tbody>-->
<!--        </table>-->
<!--    </div>-->

</div>


</body>

</html>