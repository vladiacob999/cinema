<!doctype html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml" xmlns:sec="http://www.w3.org/1999/xhtml">
<head>
    <title>Cinema Movies</title>
    <meta charset="utf-8">
    <link rel="stylesheet"
          href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
          integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
          crossorigin="anonymous">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css"
          rel="stylesheet"
          integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx"
          crossorigin="anonymous">

</head>

<link th:href="@{/css/topnav.css}" rel="stylesheet"/>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<!--<style>-->

<!--    Body {-->
<!--    height: 100%;-->
<!--    margin: 0;-->
<!--    background-image: url("https://img.freepik.com/free-photo/studio-background-concept-abstract-empty-light-gradient-purple-studio-room-background-product_1258-71502.jpg?w=1380&t=st=1660407924~exp=1660408524~hmac=005754ab51326273e4c1fcfc22c66abe8e48ec129884dec497cce7c57a390fec");-->
<!--    background-repeat: repeat;-->
<!--    background-size: 100% auto;-->
<!--    background-position: center top;-->
<!--    background-attachment: fixed;-->
<!--    }-->
<!--    </style>-->

<body>

<div th:replace="fragments/navs.html :: topnav"></div>

<div class="container my-2">


    <h1> Movie List</h1>
    <div sec:authorize="hasRole('ROLE_ADMIN')">
        <a th:href="@{/addNewMovie}" class="btn btn-primary btn-sm mb-3"> Add Movie </a>
    </div>
    <div class="container my-2">

        <table class="table">
            <thead>
            <tr>
                <th> Picture</th>
                <th> Movie Title</th>
                <th> Genre</th>
                <th> Length</th>
                <th> More</th>
                <th></th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="movie : ${listMovies}">
                <td><img th:src="${movie.photosImagePath}" class="img-round" width="100" height="100"/>
                <td width="300px%" th:text="${movie.movieTitle}"></td>
                <td width="300px%" th:text="${movie.movieGenre}"></td>
                <td width="300px%" th:text="${movie.length}"></td>
                <td width="300px%"><a class="btn btn-primary" th:href="@{/movie/{id}(id=${movie.id})}">View</a></td>

                <div sec:authorize="hasRole('ROLE_ADMIN')">
                    <td width="10px%"><a th:href="@{/deleteMovie/{id}(id=${movie.id})}"
                                         class="btn btn-danger">Delete</a></td>
                </div>
            </tr>


            </tbody>


        </table>
    </div>
</div>

</body>
</html>